{
  "question_id" : 44826411,
  "title" : "Clear all the fields after pressing save button",
  "body" : "<p>Here is my code i have tried \"Response.Redirect(Request.Url.AbsoluteUri);\" command but it direct me to the same page without any message...Since I am new to Asp.net i don't know where to put this command so that first it will show my message then it clear all the fields...</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\nusing System.Web.UI;\nusing System.Web.UI.WebControls;\nusing System.Data;\nusing System.Data.SqlClient;\nusing System.Configuration;\nnamespace Eas2\n{\n    public partial class Employee : System.Web.UI.Page\n    {\n        protected void Page_Load(object sender, EventArgs e)\n        {\n            //this.Select.Attributes.Add(\"onClick\", \"CopyText()\");\n            this.UnobtrusiveValidationMode = System.Web.UI.UnobtrusiveValidationMode.None;\n            //if (IsPostBack)\n            //{\n            //    SqlConnection conn = new SqlConnection(ConfigurationManager.ConnectionStrings[\"REGDataConnectionString\"].ConnectionString);\n            //    conn.Open();\n            //    string checkUser = \"Select count(*) from [tblEmployee] where UserName= '\" + TextBoxUN.Text + \"'\";\n            //    SqlCommand com = new SqlCommand(checkUser, conn);\n            //    int temp = Convert.ToInt32(com.ExecuteScalar().ToString());\n            //    if (temp == 1)\n            //    {\n            //        Response.Write(\"User Already Exist\");\n            //    }\n            //    conn.Close();\n\n            //}\n\n        }\n\n        protected void TextBox1_TextChanged(object sender, EventArgs e)\n        {\n\n        }\n\n        protected void CheckBox1_CheckedChanged(object sender, EventArgs e)\n        {\n\n        }\n\n        protected void Button1_Click(object sender, EventArgs e)\n        {\n            try\n            {\n\n                //Guid newguid = Guid.NewGuid();\n\n                int EmployeeId = 0;\n                string constr = ConfigurationManager.ConnectionStrings[\"REGDataConnectionString\"].ConnectionString;\n                using (SqlConnection con = new SqlConnection(constr))\n                {\n                    //string iq = \"insert into tblEmployee(EmployeeCode)\" + \" values(@ec)\";\n                    //SqlCommand cmd = new SqlCommand(iq, con);\n                    //cmd.Parameters.AddWithValue(\"@ec\", newguid.ToString());\n                    using (SqlCommand com = new SqlCommand(\"Register_Employee\"))\n                    {\n                        using (SqlDataAdapter sda = new SqlDataAdapter())\n                        {\n                            com.CommandType = CommandType.StoredProcedure;\n                            // SqlConnection conn = new SqlConnection(ConfigurationManager.ConnectionStrings[\"REGDataConnectionString\"].ConnectionString);\n                            //conn.Open();\n                            //string insertQuery = \"insert into tblEmployee (EmployeeCode,Fname,Mname,Laname,UserName,Password,RPassword,CompanyName,Gender,Age,DateOfBirth,DateOfJoining,Address,PAddress,Email,PhoneNumber,ExpectedPeriod,SkillSet)\" +\n                            //\" values (@ec,@fnm,@mnm,@lnm,@unm,@pass,@rpass,@cnm,@g,@db,@dj,@Ad,@Pad,@em,@phn,@period,@skill)\";\n                            //SqlCommand com = new SqlCommand(insertQuery, conn);\n                            //int temp = Convert.ToInt32(com.ExecuteScalar().ToString());\n\n                            com.Parameters.AddWithValue(\"@EmployeeCode\", TextBoxEC.Text);\n                            com.Parameters.AddWithValue(\"@Fname\", TextBoxEF.Text);\n                            com.Parameters.AddWithValue(\"@Mname\", TextBoxEM.Text);\n                            com.Parameters.AddWithValue(\"@LaName\", TextBoxEL.Text);\n                            com.Parameters.AddWithValue(\"@UserName\", TextBoxUN.Text);\n                            com.Parameters.AddWithValue(\"@Password\", TextBoxpassword.Text);\n                            com.Parameters.AddWithValue(\"@RPassword\", TextBoxRPass.Text);\n                            com.Parameters.AddWithValue(\"@CompanyName\", DropDownListCN.SelectedItem.ToString());\n                            com.Parameters.AddWithValue(\"@Gender\", DropDownListG.SelectedItem.ToString());\n                            // com.Parameters.AddWithValue(\"@a\", TextBoxAGE.Text);\n                            com.Parameters.AddWithValue(\"@DateOfBirth\", TextBoxCal.Text);\n                            com.Parameters.AddWithValue(\"@DateOfJoining\", TextBoxJoin.Text);\n                            com.Parameters.AddWithValue(\"@Address\", TextBoxAdd.Text);\n                            com.Parameters.AddWithValue(\"@PAddress\", TextBoxPAdd.Text);\n                            com.Parameters.AddWithValue(\"@Email\", TextBoxEMAIL.Text);\n                            com.Parameters.AddWithValue(\"@PhoneNumber\", TextBoxPHN.Text);\n                            com.Parameters.AddWithValue(\"@ExpectedPeriod\", TextBoxPERIOD.Text);\n                            //com.Parameters.AddWithValue(\"@A/I\", checked/unchecked);\n                            com.Parameters.AddWithValue(\"@SkillSet\", DropDownListSKILL.SelectedItem.ToString());\n                            //com.ExecuteNonQuery();\n                            //Response.Redirect(\"Manager.aspx\");\n                            // Response.Write(\"Registration is Successful\");\n                            com.Connection = con;\n                            con.Open();\n                            EmployeeId = Convert.ToInt32(com.ExecuteScalar());\n                            con.Close();\n\n                        }\n                    }\n                }\n                //Response.Redirect(Request.Url.AbsoluteUri);\n                string message = string.Empty;\n                switch (EmployeeId)\n                {\n                    case -1:\n                        message = \"Employee already exists.\\\\nPlease choose a different Employee name.\";\n                        break;\n\n                    default:\n                        message = \"Registration successful.\\\\nEmployee Id: \" + EmployeeId.ToString();\n                        break;\n                }\n                ClientScript.RegisterStartupScript(GetType(), \"alert\", \"alert('\" + message + \"');\", true);\n\n            }\n\n            catch (Exception ex)\n            {\n                Response.Write(\"Error!\" + ex.ToString());\n\n            }\n            //Response.Redirect(\"Employee.aspx\");\n\n            //Page page = HttpContext.Current.Handler as Page;\n            //if (page != null)\n            //{\n            //    error = error.Replace(\"'\", \"\\'\");\n            //    ScriptManager.RegisterStartupScript(page, page.GetType(), \"err_msg\", \"alert('\" + error + \"');\"\n\n\n\n        }\n\n        protected void TextBoxUN_TextChanged(object sender, EventArgs e)\n        {\n\n        }\n\n        protected void chkSameasLocal_CheckedChanged(object sender, EventArgs e)\n        {\n            TextBoxPAdd.Text = TextBoxAdd.Text;\n        }\n\n        //public static void EmptyTextBoxes(Control parent)\n        //{\n        //    foreach (Control c in parent.Controls)\n        //    {\n        //        if (c.GetType() == typeof(TextBox))\n        //        {\n        //            ((TextBox)(c)).Text = string.Empty;\n        //        }\n        //        else if (c is DropDownList)\n        //            ((DropDownList)(c)).ClearSelection();\n        //        else if(c is CheckBox)\n        //        {\n        //            ((CheckBox)(c)).Checked = false;\n        //        }\n\n        //    }\n        //}\n        //protected void Button2_Click(object sender, EventArgs e)\n        //{\n        //    Response.Redirect(Request.RawUrl);\n        //}\n\n        //protected void Select_CheckedChanged(object sender, EventArgs e)\n        //{\n        //   this.TextBoxPAdd.Text = this.TextBoxAdd.Text;\n        //}\n    }\n}\n</code></pre>\n",
  "link" : "https://stackoverflow.com/questions/44826411/clear-all-the-fields-after-pressing-save-button",
  "owner" : {
    "user_id" : 8229656,
    "user_type" : "registered",
    "display_name" : "Sumit Raj",
    "profile_image" : "https://www.gravatar.com/avatar/0d714ccee534e1b12934aac749f1fb46?s=128&d=identicon&r=PG&f=1",
    "link" : "https://stackoverflow.com/users/8229656/sumit-raj",
    "reputation" : 1,
    "accept_rate" : null
  },
  "is_answered" : false,
  "creation_date" : 1498742681,
  "last_activity_date" : 1498742681,
  "tags" : [
    "c#"
  ],
  "score" : -3,
  "view_count" : 8,
  "answer_count" : 0
}