{
  "question_id" : 44825809,
  "title" : "MySQL taking high CPU Usage",
  "body" : "<p>I have dedicated linux server with 4 cores and 8GB RAM. I have one webportal developed in crash php and mysql. On single page it pushing near about 15-20 queries. On each page I have included mysql connection. My Problem is everytime mysql service taking 50% cpu while sometime 160-200%. When it reaches to 200%, my server get hang and need to restart.</p>\n\n<p><code>SHOW PROCESSLIST;</code> showing no queries pending.\nI have optimized all tables using <code>OPTIMIZE TABLE</code> query. Some of tables are INNODB while some are MYISAM. I have checked slow query logs who is tracking queries greater than 1 second. There are few queries which taking time not greater than 2-3 seconds.</p>\n\n<p>my.cnf file contain</p>\n\n<pre><code>default-storage-engine=MyISAM\ninnodb_file_per_table=1\nperformance-schema=0\nmax_allowed_packet=268435456\nslow_query_log=1\nslow_query_log_file=/var/lib/mysql/slow.log\nlong_query_time=1\nlog_queries_not_using_indexes=0\nlog_error=/var/lib/mysql/mysql_error.log\n\n[mysqld_safe]\nlog_error=/var/lib/mysql/mysql_safe_error.log\n</code></pre>\n",
  "link" : "https://stackoverflow.com/questions/44825809/mysql-taking-high-cpu-usage",
  "owner" : {
    "user_id" : 1074723,
    "user_type" : "registered",
    "display_name" : "Bahirji Naik",
    "profile_image" : "https://i.stack.imgur.com/Ir2Vv.png?s=128&g=1",
    "link" : "https://stackoverflow.com/users/1074723/bahirji-naik",
    "reputation" : 88,
    "accept_rate" : 100
  },
  "is_answered" : false,
  "creation_date" : 1498741084,
  "last_activity_date" : 1498741084,
  "tags" : [
    "mysql"
  ],
  "score" : 0,
  "view_count" : 12,
  "answer_count" : 0
}