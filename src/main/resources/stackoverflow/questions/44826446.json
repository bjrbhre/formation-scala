{
  "question_id" : 44826446,
  "title" : "Google Chrome viewport-anchored expand direction with flexbox",
  "body" : "<p>There an issue in Google Chrome where elements expand/collapse in different directions relative to the viewport when placed inside a flexbox container with an <em>adjacent</em> flex item having <code>space-between</code> or <code>center</code> justified content.</p>\n\n<p>This is not a problem in Firefox, IE11, Edge, or Safari as the elements always expand downward.</p>\n\n<p>I'm curious:</p>\n\n<ul>\n<li>Does Chrome's behavior here follow some spec? If so, which one?</li>\n<li>If not, then why was this done in Chrome? It is horrible for UX.</li>\n<li>Can this be disabled in someway through CSS or meta-tag?</li>\n</ul>\n\n<p>Here are two examples inserted below. The full test suite describing the problem can be found in this pen: <a href=\"https://codepen.io/jameswilson/full/xrpRPg/\" rel=\"nofollow noreferrer\">https://codepen.io/jameswilson/full/xrpRPg/</a>  I've chosen to use slideToggle in this example so that the expand/collapse motion is animated and visible to the eye. The same behavior happens with the details tag, but cross-browser support is not there yet, and the expand/collapse is too janky.</p>\n\n<p><strong>Ex 1: Chrome's expand/collapse behavior for space-between justified flexbox</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/qU1BY.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qU1BY.gif\" alt=\"chrome&#39;s expand/collapse behavior for space-between justified\"></a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('button').click(function() {\r\n  $(this).next().slideToggle();\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  margin: 30px;\r\n  font-family: sans-serif;\r\n}\r\naside,\r\naside div,\r\nsummary,\r\nmain,\r\nbutton,\r\ndetails p,\r\nbutton + p {\r\n  background: rgba(0,0,0,.09);\r\n  border: none;\r\n  padding: 20px;\r\n  margin: 0;\r\n}\r\n\r\n.flexcontainer {\r\n  display: flex;\r\n}\r\naside {\r\n  flex: 1;\r\n  position: relative;\r\n  max-width: 25%;\r\n  background: mintcream;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n}\r\naside.space-between {\r\n  justify-content: space-between;\r\n}\r\naside.center {\r\n  justify-content: center;\r\n}\r\n\r\nmain {\r\n  flex: 3;\r\n  position: relative;\r\n  max-width: 75%;\r\n  background: aliceblue;\r\n  vertical-align: top;\r\n  height: 100%;\r\n}\r\nmain &gt; * + * {\r\n  margin-top: 20px;\r\n}\r\n\r\nbutton + p {\r\n  display: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;section class=\"flexcontainer\"&gt;\r\n  &lt;aside class=\"space-between\"&gt;\r\n    &lt;div&gt;Top Sidebar&lt;/div&gt;\r\n    &lt;div&gt;Bottom Sidebar&lt;/div&gt;\r\n  &lt;/aside&gt;\r\n  &lt;main&gt;\r\n    &lt;div&gt;\r\n      &lt;button&gt;slideToggle&lt;/button&gt;\r\n      &lt;p&gt;Other browsers: always expands downward.&lt;br&gt;\r\n        Chrome: Should always expand downward because Top Sidebar is always visible.&lt;/p&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div&gt;\r\n      &lt;button&gt;slideToggle (usually expands down)&lt;/button&gt;\r\n      &lt;p&gt;Other browsers: always expands downward.&lt;br&gt;\r\n        Chrome: Should expand downward while Bottom Sidebar and Top Sidebar are both visible. But will expand upward if you scroll down far enough so that Top Sidebar is off-screen.&lt;/p&gt;\r\n    &lt;/div&gt;\r\n    \r\n    &lt;div&gt;\r\n      &lt;button&gt;slideToggle (usually expands down)&lt;/button&gt;\r\n      &lt;p&gt;Other browsers: always expands downward.&lt;br&gt;\r\n        Chrome: Should expand downward while Bottom Sidebar and Top Sidebar are both visible. But will expand upward if you scroll down far enough so that Top Sidebar is off-screen.&lt;/p&gt;\r\n    &lt;/div&gt;\r\n  &lt;/main&gt;\r\n&lt;/section&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Ex 2: Chrome's expand/collapse behavior for center justified flexbox</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/N51nt.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N51nt.gif\" alt=\"Chrome&#39;s expand/collapse behavior for center justified flexbox\"></a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('button').click(function() {\r\n  $(this).next().slideToggle();\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  margin: 30px;\r\n  font-family: sans-serif;\r\n}\r\naside,\r\naside div,\r\nsummary,\r\nmain,\r\nbutton,\r\ndetails p,\r\nbutton + p {\r\n  background: rgba(0,0,0,.09);\r\n  border: none;\r\n  padding: 20px;\r\n  margin: 0;\r\n}\r\n\r\n.flexcontainer {\r\n  display: flex;\r\n}\r\naside {\r\n  flex: 1;\r\n  position: relative;\r\n  max-width: 25%;\r\n  background: mintcream;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n}\r\naside.space-between {\r\n  justify-content: space-between;\r\n}\r\naside.center {\r\n  justify-content: center;\r\n}\r\n\r\nmain {\r\n  flex: 3;\r\n  position: relative;\r\n  max-width: 75%;\r\n  background: aliceblue;\r\n  vertical-align: top;\r\n  height: 100%;\r\n}\r\nmain &gt; * + * {\r\n  margin-top: 20px;\r\n}\r\n\r\nbutton + p {\r\n  display: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;section class=\"flexcontainer\"&gt;\r\n  &lt;aside class=\"center\"&gt;\r\n    &lt;div&gt;Center Sidebar&lt;/div&gt;\r\n  &lt;/aside&gt;\r\n  &lt;main&gt;\r\n\r\n    &lt;div&gt;\r\n      &lt;button&gt;slideToggle (usually expands downwards)&lt;/button&gt;\r\n      &lt;p&gt;Other browsers: always expands downward.&lt;br&gt;\r\n        Chrome: Usually expands downwards. Expands in both directions when the top-edge of the container scrolls out of the viewport.&lt;/p&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div&gt;\r\n      &lt;button&gt;slideToggle&lt;/button&gt;\r\n      &lt;p&gt;Other browsers: always expands downward.&lt;br&gt;\r\n        Chrome: Usually expands downwards. Expands in both directions when the top-edge of the container scrolls out of the viewport.&lt;/p&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div&gt;\r\n      &lt;button&gt;slideToggle (usually expands downwards)&lt;/button&gt;\r\n      &lt;p&gt;Other browsers: always expands downward.&lt;br&gt;\r\n        Chrome: Usually expands downwards. Expands in both directions when the top-edge of the container scrolls out of the viewport, but then resumes expanding downwards again when Center Sidebar scrolls out of view.&lt;/p&gt;\r\n    &lt;/div&gt;\r\n  &lt;/main&gt;\r\n&lt;/section&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n",
  "link" : "https://stackoverflow.com/questions/44826446/google-chrome-viewport-anchored-expand-direction-with-flexbox",
  "owner" : {
    "user_id" : 413538,
    "user_type" : "registered",
    "display_name" : "JamesWilson",
    "profile_image" : "https://www.gravatar.com/avatar/f45223377db42e3a3d559203134cdc62?s=128&d=identicon&r=PG",
    "link" : "https://stackoverflow.com/users/413538/jameswilson",
    "reputation" : 218,
    "accept_rate" : 60
  },
  "is_answered" : false,
  "creation_date" : 1498742773,
  "last_activity_date" : 1498742773,
  "tags" : [
    "css",
    "google-chrome",
    "flexbox"
  ],
  "score" : 0,
  "view_count" : 14,
  "answer_count" : 0
}